<div>
    <div class="alert alert-danger" ng-show="message"/>

    <div class="alert alert-danger" ng-show="error">
        {{errorMessage}}
    </div>
    <form name="myForm" class="col-md-8 portfolio-item">
        <div class="col-md-4 portfolio-item" ng-if='patient.id' ng-show="hasAccess('PIMM')">
            <img class="img-responsive" ng-src="{{patient.imagePath}}"
                 onerror="this.src='front-end/src/images/patients/patient.svg'"/>
            <div class="row"><input type="file" file-model="image"/></div>
            <div class="row"><button class="btn btn-primary" style="float:left;margin-right: 20px" ng-click="saveImage(patient.id)">Update Photo</button></div>
        </div>
        <div class="col-md-8">
            <div class="row col-md-9 row">
                 <span style="margin-left: 15px">Name :</span>
                <input type="text" name="name" style="float:right;margin-right: 40px" ng-model="patient.name" placeholder="Patient Name" required="required"/>
                <span ng-show="myForm.$submitted || myForm.name.$touched">
                    <span ng-show="myForm.name.$error.required">Tell us your name.</span>
                </span>
            </div>
            <div class="row col-md-9 row">
                <span style="margin-left: 15px">Gender :</span>
                <select ng-model="patient.gender" style="float:right;margin-right: 40px">
                    <option ng-repeat="gender in gender" value="{{gender.gender}}">{{gender.gender}}</option>
                </select>
            </div>
            <div class="row col-md-9 row">
                <span>Age : <input type="number" ng-model="patient.age" placeholder="Age"/></span>
            </div>

            <div class="row col-md-12 row">
                <b> Contact Details : </b>
            </div>
            <div ng-repeat="contact in patient.contactList">
                <div class="row col-md-9 row">
                    <span style="margin-left: 15px">Primary Mobile No :</span>
                    <input type="text" name="primaryPhoneNumber" maxlength="10" ng-model="contact.primaryPhoneNumber" style="float:right;margin-right: 40px"
                           ng-pattern="/^([0-9]*)$/" placeholder="10 digit Mobile No" required="required"/>
                    <span class="error" ng-show="myForm.primaryPhoneNumber.$error.pattern">Invalid phone number entered.</span>
                <span ng-show="myForm.$submitted || myForm.primaryPhoneNumber.$touched">
                    <span ng-show="myForm.primaryPhoneNumber.$error.required">Tell us your mobile number.</span>
                </span>
                </div>
                <div class="row col-md-9 row">
                    <span style="margin-left: 15px">Additional Mobile No:</span>
                    <input type="text" name="secondaryPhoneNumber" maxlength="10" ng-model="contact.secondaryPhoneNumber" style="float:right;margin-right: 40px"
                           ng-pattern="/^([0-9]*)$/" placeholder="10 digit Mobile No" required="required"/>
                    <span class="error" ng-show="myForm.secondaryPhoneNumber.$error.pattern">Invalid phone number entered.</span>
                <span ng-show="myForm.$submitted || myForm.secondaryPhoneNumber.$touched">
                    <span ng-show="myForm.secondaryPhoneNumber.$error.required">Tell us your mobile number.</span>
                </span>
                </div>

                <div class="row col-md-9 row">
                    <span style="margin-left: 15px">Email Id :</span>
                    <input type="text" name="email" maxlength="50" ng-model="contact.email" style="float:right;margin-right: 40px"/>
                </div>

                <div class="row col-md-12 row">
                    <b> Address : </b>
                </div>
            <div class="col-md-12 row">
                <input type="text" ng-model="contact.addressLine1" placeholder="Address line 1"/>
                <input type="text" ng-model="contact.addressLine2"  placeholder="Address line 2"/>
            </div>
            <div class="col-md-12 row">
                <input type="text" ng-model="contact.city" placeholder="City"
                       ng-init="contact.city='Bhopal'"/>
                <input type="text" ng-model="contact.state" placeholder="State"
                       ng-init="contact.state='MP'"/>
            </div>
            <div class="col-md-12 row">
                <input type="text" ng-model="contact.country" placeholder="Country"
                       ng-init="contact.country='India'"/>
                <input type="text" ng-model="contact.pincode" placeholder="Pin code"
                       ng-init="contact.pincode='462001'"/>
            </div>
            </div>
            <div class="col-md-8 row align-left">
                <button type="submit" class="btn btn-primary" style="float:left;margin-right: 50px;margin-bottom: 50px" ng-click="savePatient(patient)">Add/Update Patient
                </button>
            </div>
            <div class="col-sm-4 row align-left" ng-if='patient.id' ng-show="hasAccess('AMM')">
                <a href="#/patients/{{patient.id}}/appointments" class="btn btn-md btn-primary">Give Appointment</a>
            </div>
        </div>
    </form>
</div>