<!-- Page Content -->
<div class="container" style="border: solid;color: black">
    <div class="row">
        <div class="alert alert-danger" ng-show="message">
            Patient Created / Updated Successfully.
        </div>
        <div class="alert alert-danger" ng-show="error">
            Could not create / update the patient.
        </div>
        <div class="col-md-3 portfolio-item" ng-if='patient.id'>
            <img class="img-responsive" ng-src="{{photoURL}}" onerror="this.src='resources/app/images/patients/patient.png'"/>
            <input type="file" file-model="myFile"/>
            <button ng-click="uploadPhoto(patient)">Upload Photo</button>
        </div>
        <form name="myForm" class="col-md-5 portfolio-item">
            <div class="row">
                <b> Name : </b> <input type="text" name="name" ng-model="patient.name" placeholder="Patient Name" required="required"/>
                <span ng-show="myForm.$submitted || myForm.name.$touched">
                    <span ng-show="myForm.name.$error.required">Tell us your name.</span>
                </span>
            </div>
            <div class="row">
                <b> Gender : </b>
                <select ng-model="patient.gender">
                    <option ng-repeat="gender in gender" value="{{gender.gender}}">{{gender.gender}}</option>
                </select>
            </div>
            <div class="row">
                <b> Mobile : </b>
                <input type="text" name="phoneNumber" maxlength="10" ng-model="patient.phoneNumber" ng-pattern="/^([0-9]*)$/" placeholder="10 digit Mobile No" required="required"/>
                <span class="error" ng-show="myForm.phoneNumber.$error.pattern">Invalid phone number entered.</span>
                <span ng-show="myForm.$submitted || myForm.phoneNumber.$touched">
                    <span ng-show="myForm.phoneNumber.$error.required">Tell us your mobile number.</span>
                </span>
            </div>
            <div class="row">
                <b> Date of Birth : </b><input type="text" ui-date="dateOptions" name="dob" ng-model="patient.dateOfBirth" placeholder="dd-mm-yyyy"/>
            </div>
            <div class="row">
                <b> Address : </b>
            </div>
            <div class="row">
                <input type="text" ng-model="patient.address.addressLine1" placeholder="Address line 1"/>
                <input type="text" ng-model="patient.address.addressLine2" placeholder="Address line 2"/>
            </div>
            <div class="row">
                <input type="text" ng-model="patient.address.city" placeholder="City"
                       ng-init="patient.address.city='Bhopal'"/>
                <input type="text" ng-model="patient.address.state" placeholder="State"
                       ng-init="patient.address.state='MP'"/>
            </div>
            <div class="row">
                <input type="text" ng-model="patient.address.country" placeholder="Country"
                       ng-init="patient.address.country='India'"/>
                <input type="text" ng-model="patient.address.pincode" placeholder="Pin code"
                       ng-init="patient.address.pincode='462001'"/>
            </div>
            <div class="row" style="alignment: right">
                <button type="submit" class="btn btn-primary" ng-click="savePatient(patient)">Add/Update Patient</button>
            </div>
        </form>
    </div>
</div>